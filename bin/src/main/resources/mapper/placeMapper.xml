<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="kr.co.there.place.model.PlaceDao">

	<select id="selectAll" resultType="plbean">
	select * from place order by place_idx desc
	</select>
	
	<select id="selectOne" resultType="plbean">
	select * from place where place_idx=#{val}
	</select>

	 
	<update id="insertOne" parameterType="plbean">
	insert into place (place_name, place_addr, place_opentime, place_endtime, place_tel, place_url, place_content, place_category, place_longitude, place_latitude, place_thumb, place_hashtag, place_viewcnt) 
	values (#{place_name}, #{place_addr}, #{place_opentime}, #{place_endtime}, #{place_tel}, #{place_url}, #{place_content}, #{place_category}, #{place_longitude}, #{place_latitude}, #{place_thumb}, #{place_hashtag}, 0)
	</update>


	<update id="updateOne" parameterType="plbean">
	update place set place_name=#{place_name}, place_addr=#{place_addr}, place_opentime=#{place_opentime}, place_endtime=#{place_endtime}, 
	place_tel=#{place_tel}, place_url=#{place_url}, place_content=#{place_content},place_category=#{place_category}, place_longitude=#{place_longitude}, place_latitude=#{place_latitude}, place_thumb=#{place_thumb}, place_hashtag=#{place_hashtag}
	where place_idx=#{place_idx}
	</update>

	<update id="updateViewCnt" parameterType="int">
	update place set place_viewcnt=place_viewcnt+1 where place_idx=#{val}
	</update>


	<delete id="deleteOne" parameterType="int">
	delete from place where place_idx=#{val}
	</delete>


</mapper>


